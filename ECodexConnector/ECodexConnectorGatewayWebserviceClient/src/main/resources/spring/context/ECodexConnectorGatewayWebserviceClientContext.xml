<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:jaxws="http://cxf.apache.org/jaxws" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:http-conf="http://cxf.apache.org/transports/http/configuration"
	xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd 
http://cxf.apache.org/transports/http/configuration
http://cxf.apache.org/schemas/configuration/http-conf.xsd">

	<import resource="classpath:/spring/context/ECodexConnectorCommonContext.xml" />

	<jaxws:client id="gatewayClient" serviceClass="backend.ecodex.org._1_0.BackendInterface"
		address="${gateway.endpoint.address}" />

	<bean id="gatewayWebServiceClient"
		class="eu.ecodex.connector.gwc.ECodexConnectorGatewayWebserviceClientImpl">
		<property name="gatewayBackendWebservice" ref="gatewayClient" />
		<property name="sendMessageHelper" ref="sendMessageHelper" />
		<property name="downloadMessageHelper" ref="downloadMessageHelper" />
	</bean>

	<bean id="sendMessageHelper" class="eu.ecodex.connector.gwc.helper.SendMessageHelper">
		<property name="connectorProperties" ref="connectorProperties" />
		<property name="persistenceService" ref="persistenceService" />
	</bean>

	<bean id="downloadMessageHelper" class="eu.ecodex.connector.gwc.helper.DownloadMessageHelper">

	</bean>

	<http-conf:conduit name="*.http-conduit">
		<http-conf:client ProxyServer="localhost" ProxyServerPort="3128" AllowChunking="false" />
	</http-conf:conduit>

</beans>