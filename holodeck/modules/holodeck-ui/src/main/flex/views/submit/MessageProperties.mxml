<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" 
	     width="100%" height="141">
	
  <mx:HBox width="100%">
    <mx:FormItem label="Property Name: " width="100%">
      <mx:TextInput id="_propertyName" width="100%" />
    </mx:FormItem>
    <mx:FormItem label="Value: " width="100%">
      <mx:TextInput id="_value" width="100%" />
    </mx:FormItem>
    <mx:Button label="Add" click="addProperty()" />
  </mx:HBox>
  
  <mx:HBox width="100%">
  	<mx:DataGrid width="100%" height="106" id="_propertiesGrid" 
                 liveScrolling="true" draggableColumns="true" 
  	             dragMoveEnabled="true" resizableColumns="true">
      <mx:columns>
        <mx:Array>
          <mx:DataGridColumn dataField="name" 
                  	         headerText="Property Name"/>
          <mx:DataGridColumn dataField="value" headerText="Value"/>
        </mx:Array>
      </mx:columns>
    </mx:DataGrid>
    <mx:Spacer width="48" height="1"/>
  </mx:HBox>	
	
  <mx:Script>
  	<![CDATA[
import org.holodeck.ebms3.submit.*;

//[Bindable] public var properties:Array = new Array();
[Bindable] public var properties:Properties = new Properties();

public function addProperty():void
{
  if ( _propertyName.text == null || _value.text == null ) return;
  properties.addProperty(_propertyName.text, _value.text);
  _propertiesGrid.dataProvider = properties.propertyArray;
  //var p:MsgProperty = new MsgProperty();
  //p.name = _propertyName.text;
  //p.value = _value.text;
  //properties.push(p);
  //_propertiesGrid.dataProvider = properties;
  _propertyName.text = null;
  _value.text = null;
}

public function clear():void
{
  if (properties != null) 
  { 
    properties.clear(); 
    _propertiesGrid.dataProvider = properties.propertyArray; 
  }
}
  	]]>
  </mx:Script>
</mx:VBox>

