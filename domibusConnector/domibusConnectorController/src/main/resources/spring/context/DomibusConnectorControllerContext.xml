<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<import resource="classpath:/spring/context/DomibusConnectorCommonContext.xml" />
	<import
		resource="classpath:/spring/context/DomibusConnectorSecurityToolkitContext.xml" />
	<import
		resource="classpath:/spring/context/DomibusConnectorEvidencesToolkitContext.xml" />
	<import
		resource="classpath:/spring/context/DomibusConnectorContentMapperContext.xml" />
	<import
		resource="classpath:/spring/context/DomibusConnectorGatewayWebserviceClientContext.xml" />
	<import
		resource="classpath:/spring/context/DomibusConnectorNationalBackendClientContext.xml" />
	<import
		resource="classpath:/spring/context/DomibusConnectorMonitoringContext.xml" />

	<import resource="quartz-context.xml" />
	
	<bean id="outgoingController"
		class="eu.domibus.connector.controller.DomibusConnectorOutgoingController">
		<property name="nationalBackendClient" ref="nationalBackendClient" />
		<property name="outgoingMessageService" ref="outgoingMessageService" />
		<property name="outgoingEvidenceService" ref="outgoingEvidenceService" />
	</bean>

	<bean id="incomingController"
		class="eu.domibus.connector.controller.DomibusConnectorIncomingController">
		<property name="gatewayWebserviceClient" ref="gatewayWebServiceClient" />
		<property name="incomingMessageService" ref="incomingMessageService" />
		<property name="incomingEvidenceService" ref="incomingEvidenceService" />
	</bean>
	
	<bean id="evidencesTimeoutController" class="eu.domibus.connector.controller.DomibusConnectorCheckEvidencesTimeoutController">
		<property name="persistenceService" ref="persistenceService" />
		<property name="connectorProperties" ref="connectorProperties" />
		<property name="nationalBackendClient" ref="nationalBackendClient" />
		<property name="evidencesToolkit" ref="evidencesToolkit" />
	</bean>

	<bean id="outgoingMessageService"
		class="eu.domibus.connector.controller.service.OutgoingMessageService">
		<property name="connectorProperties" ref="connectorProperties" />
		<property name="contentMapper" ref="contentMapper" />
		<property name="nationalBackendClient" ref="nationalBackendClient" />
		<property name="gatewayWebserviceClient" ref="gatewayWebServiceClient" />
		<property name="evidencesToolkit" ref="evidencesToolkit" />
		<property name="persistenceService" ref="persistenceService" />
		<property name="hashValueBuilder" ref="hashValueBuilder" />
		<property name="securityToolkit" ref="connectorSecurityToolkit" />
	</bean>

	<bean id="incomingMessageService"
		class="eu.domibus.connector.controller.service.IncomingMessageService">
		<property name="connectorProperties" ref="connectorProperties" />
		<property name="contentMapper" ref="contentMapper" />
		<property name="nationalBackendClient" ref="nationalBackendClient" />
		<property name="gatewayWebserviceClient" ref="gatewayWebServiceClient" />
		<property name="evidencesToolkit" ref="evidencesToolkit" />
		<property name="persistenceService" ref="persistenceService" />
		<property name="securityToolkit" ref="connectorSecurityToolkit" />
	</bean>

	<bean id="outgoingEvidenceService"
		class="eu.domibus.connector.controller.service.OutgoingEvidenceService">
		<property name="persistenceService" ref="persistenceService" />
		<property name="gatewayWebserviceClient" ref="gatewayWebServiceClient" />
		<property name="evidencesToolkit" ref="evidencesToolkit" />
	</bean>

	<bean id="incomingEvidenceService"
		class="eu.domibus.connector.controller.service.IncomingEvidenceService">
		<property name="persistenceService" ref="persistenceService" />
		<property name="nationalBackendClient" ref="nationalBackendClient" />
	</bean>
	
	<bean id="applicationContextProvider" class="eu.domibus.connector.controller.context.ApplicationContextProvider"></bean>
</beans>