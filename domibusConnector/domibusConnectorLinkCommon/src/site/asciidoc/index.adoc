Connector Link Plugins Manual
=============================



:imgdir: ../resources/images/
:imagesdir: {imgdir}

Since 4.3.0 the connector comes with different link plugins

== The available plugins

* WS Gateway Push Plugins
* WS Gateway Pull Plugin
* WS Backend Plugin


=== Configuration

The Links are known to the connectorController only by
DomibusConnectorLinkPartner. Only the LinkPartner name is stored
to the message processing. So how/who the LinkPartner is is completly
transparent to the message processing flow.

The configuration itself is read into the DomibusConnectorLink and
DomibusConnectorLinkPartner classes. Afterwards when the LinkPartner and Link is
activated during startup the ActiveLinkConfiguration and ActiveLInkPartner
is created.

//image::plantuml/link_architecture.png[ClassDiagram]
[plantuml, queues, png]
----
@startuml


package "Config" {
  class DomibusConnectorLinkConfiguration {
    Properties properties
    String linkImpl
    LinkConfigName configName
  }


  class DomibusConnectorLinkPartner {
    LinkPartnerName linkPartnerName
    LinkMode linkMode
    LinkType linkType
    Properties properties
  }
}

package Active {

  class ActiveLink {
    LinkPlugin linkPlugin
    ConfigurableApplicationContext childContext
    SubmitToLink submitToLink
  }

  class ActiveLinkPartner {
    LinkPlugin linkPlugin
    ConfigurableApplicationContext childContext
    SubmitToLink submitToLink
  }

}


DomibusConnectorLinkConfiguration "*" <-- "1" DomibusConnectorLinkPartner

ActiveLink "1" --> "*" ActiveLinkPartner

ActiveLink "1" --> "*" DomibusConnectorLinkConfiguration
ActiveLinkPartner "1" --> "*" DomibusConnectorLinkPartner



@enduml
----



==== Setting up example for Gateway Pull Link:

The gateway link is configured under the properties prefix 'connector.link.gateway'

[source,properties]
----
include::../../test/resources/application-gwwspullplugin-test.properties[]
----

==== Setting up example for backend Ws Link:

The backend link(s) are configured under the properties prefix 'connector.link.backend[0-99]'.
On the backend side the connector supports multiple backends and backend partners.


[source,properties]
----
include::../../test/resources/application-wsbackendplugin-test.properties[]
----

