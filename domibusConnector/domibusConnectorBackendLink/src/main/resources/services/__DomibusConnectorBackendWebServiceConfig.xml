<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jaxws="http://cxf.apache.org/jaxws" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:p="http://cxf.apache.org/policy" xmlns:cxf="http://cxf.apache.org/core" xmlns:xop="http://www.w3.org/2004/08/xop/include" xsi:schemaLocation=" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd http://www.w3.org/ns/ws-policy http://www.w3.org/2007/02/ws-policy.xsd http://cxf.apache.org/policy http://cxf.apache.org/schemas/policy.xsd http://www.w3.org/2004/08/xop/include http://www.w3.org/2004/08/xop/include http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd ">
    <cxf:bus>
        <cxf:features>
            <!--<cxf:logging />-->
            <p:policies/>
        </cxf:features>
    </cxf:bus>
    <jaxws:endpoint xmlns:s="http://connector.domibus.eu/ws/backend/webservice" id="connectorBackendWS" implementor="#connectorBackendImpl" address="#{WSBackendLinkConfigurationProperties.backendPublishAddress}" publish="true" serviceName="s:DomibusConnectorBackendWSService" wsdlLocation="wsdl/DomibusConnectorBackendWebService.wsdl" endpointName="s:DomibusConnectorBackendWebService">
        <jaxws:features>
            <p:policies>
                <wsp:PolicyReference URI="classpath:/wsdl/backend.policy.xml"/>
            </p:policies>
        </jaxws:features>
        <jaxws:properties>
            <entry key="security.callback-handler">
                <ref bean="defaultCallbackHandler"/>
            </entry>
            <entry key="security.signature.properties" value="#{WSBackendLinkConfigurationProperties.getWssProperties()}"/>
            <entry key="security.encryption.username" value="useReqSigCert"/>
            <entry key="security.encryption.properties" value="#{WSBackendLinkConfigurationProperties.getWssProperties()}"/>
            <entry key="mtom-enabled" value="true"/>
            <entry key="security.store.bytes.in.attachment" value="true"/>
            <entry key="security.enable.streaming" value="true"/>
        </jaxws:properties>
    </jaxws:endpoint>
</beans>
