<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/templates/menuTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
      			xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">
                
                
   <ui:param name="title" value="E-Codex WebAdmin - Statistics"/>
    <ui:define name="content">
         
 <h:form  id="form"> 
	<h:panelGrid columns="3" style="margin-bottom:10px" cellpadding="5">           
        <h:outputText class="textArea" value="Monitoring type: " />  
        <h:selectOneMenu value="#{configurationBean.monitoringType}">  
            <f:selectItem itemLabel="DB" itemValue="DB" />  
            <f:selectItem itemLabel="JMX" itemValue="JMX" />  
            <f:selectItem itemLabel="Rest" itemValue="REST" />   
        </h:selectOneMenu>
        <h:commandButton id="configure" action="#{configurationBean.configure}" value="Show configuration"/> 
    </h:panelGrid>
    <hr />
    <h:outputText class="textArea" style="margin: 0 auto;" value="Connected to: #{configurationBean.webAdminProperties.connectorDatabaseUrl}" rendered="#{configurationBean.dbSelected}"/>     
    <h:outputText class="textArea" style="margin: 0 auto;" value="Note that the jmx port has to be enabled on your webserver!" rendered="#{configurationBean.jmxSelected}"/>     
    <h:panelGrid columns="2" style="margin: 0 auto;" cellpadding="5">        
        	<h:outputText class="textArea" value="JMX Server address: " rendered="#{configurationBean.jmxSelected}"/>    
        	<p:inputText id="jmxServerAddress" value="#{configurationBean.webAdminProperties.jmxServerAddress}"  rendered="#{configurationBean.jmxSelected}"/>     
        	<h:outputText class="textArea" value="JMX Server port: " rendered="#{configurationBean.jmxSelected}"/>    
        	<p:inputText id="jmxServerPort" value="#{configurationBean.webAdminProperties.jmxServerPort}"  rendered="#{configurationBean.jmxSelected}"/>     
    </h:panelGrid>
         
    <h:panelGrid columns="2" style="margin: 0 auto;" cellpadding="5">        
        	<h:outputText class="textArea" value="Rest Server address: " rendered="#{configurationBean.restSelected}"/>    
        	<p:inputText id="restServerAddress" value="#{configurationBean.webAdminProperties.restServerAddress}"  rendered="#{configurationBean.restSelected}"/>     
        	<h:outputText class="textArea" value="Rest Server port: " rendered="#{configurationBean.restSelected}"/>    
        	<p:inputText id="restServerPort" value="#{configurationBean.webAdminProperties.restServerPort}"  rendered="#{configurationBean.restSelected}"/>  
        	<h:outputText class="textArea" value="Rest Webcontext: " rendered="#{configurationBean.restSelected}"/>    
        	<p:inputText id="restWebContext" value="#{configurationBean.webAdminProperties.restWebContext}"  rendered="#{configurationBean.restSelected}"/>        
    </h:panelGrid>
    <hr />     
     <h:panelGrid columns="3"
						style="margin: 0 auto;" cellpadding="10"
						border="1"  rendered="#{configurationBean.testDisplay}">
						<h:outputText class="textArea" style="font-weight:bold;"
							value="#{configurationBean.monitoringType}"/>
						<h:outputText class="textArea"
							value="#{configurationBean.monitoringTestMessage}"/>
						<h:outputText style="font-weight:bold;" class="textArea"
							value="#{configurationBean.monitoringTestStatus}" />
	</h:panelGrid>
	<h:outputText class="textArea" style="margin: 0 auto;" value="Properties erfolgreich gespeichert!" rendered="#{configurationBean.saveDisplay}"/>
    <h:panelGrid columns="2" style="margin: 0 auto;" cellpadding="5">
    
 	   <h:commandButton id="testConnection" action="#{configurationBean.test}" value="Test"/> 
 	   <h:commandButton id="save" action="#{configurationBean.save}" value="Save"/>      
 	   <h:commandButton id="mail" action="#{configurationBean.mail}" value="Mail Test"/> 
    </h:panelGrid>

</h:form>
</ui:define>
</ui:composition>
